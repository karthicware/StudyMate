# Story 0.1.7: Pricing Configuration Interface (Frontend)

## Status
Ready for development

## Story
**As an** Owner,
**I want** to configure base pricing for my study hall during onboarding,
**so that** students know the hourly rate and I can monetize my space.

## Acceptance Criteria

### AC1: Pricing form displayed in onboarding wizard (Step 2)
**Given** owner has completed hall creation (Story 0.1.6)
**When** wizard advances to Step 2 (Pricing Configuration)
**Then** the system displays:
- Progress indicator: "Step 2 of 3: Pricing Configuration"
- Base pricing input field (₹/hour)
- Default value: ₹100/hour (pre-filled)
- Validation: Min ₹50, Max ₹5000
- "Continue" button (advances to Step 3: Location)
- "Skip for now" button (sets DRAFT status, redirects to dashboard)

### AC2: Base pricing saved via PUT /owner/halls/{hallId}/pricing
**Given** owner enters base pricing amount
**When** owner clicks "Continue"
**Then** the system:
- Validates pricing (₹50 - ₹5000 range)
- Sends PUT request to `/owner/halls/{hallId}/pricing`
- Displays success message
- Advances to Step 3 (Location Configuration - Story 0.1.8)

### AC3: Pricing validation enforced
**Given** owner enters invalid pricing
**When** pricing is outside range (₹50 - ₹5000)
**Then** the system:
- Displays error: "Pricing must be between ₹50 and ₹5000"
- Disables "Continue" button
- Does not send API request

## Tasks / Subtasks

### Task 1: Create Pricing Configuration Component (AC: 1, 2, 3)
- [ ] Create pricing step in onboarding wizard (Step 2)
- [ ] Add base pricing input field (number, currency symbol: ₹)
- [ ] Pre-fill with default value: ₹100
- [ ] Add validation: min=50, max=5000, required
- [ ] Add data-testid attributes
- [ ] Implement "Continue" and "Skip" buttons
- [ ] Style with Tailwind CSS (design system)

### Task 2: Integrate Pricing API (AC: 2)
- [ ] Create `updateHallPricing(hallId, pricing): Observable` in HallManagementService
- [ ] PUT to `/owner/halls/{hallId}/pricing`
- [ ] Handle success (200 OK) - advance to next step
- [ ] Handle errors (400, 404)
- [ ] Display loading spinner during save

### Task 3: Testing (AC: All)
- [ ] Unit tests: validation, API integration
- [ ] E2E tests: pricing form submission, validation errors
- [ ] Run 14 pre-commit validation commands

## Dev Notes

### API Endpoint
**PUT /owner/halls/{hallId}/pricing**
- Request: `{ "basePricing": 150 }`
- Response: `{ "hallId": "uuid", "basePricing": 150, "updatedAt": "..." }`

### Validation Rules
- Min: ₹50/hour (₹50)
- Max: ₹5000/hour (₹5000)
- Required field (cannot be null/blank)
- Must be positive integer or decimal (up to 2 decimal places)

### File Locations
- Component: `src/app/features/owner/onboarding/pricing-step/pricing-step.component.ts`
- Tests: `e2e/owner-onboarding-wizard.spec.ts` (add pricing step tests)

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-19 | 1.0 | Story created from Epic 0.1, Feature 0.1.7 | Sarah (PO) |

## Dev Agent Record
_To be filled by Dev Agent_

## QA Results
_To be filled by QA Agent_
