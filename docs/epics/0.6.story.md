# Story 0.6: Initialize Spring Boot 3.5.6 Project with Maven

## Status
Ready for Review

## Story
**As a** Developer,
**I want** a Spring Boot 3.5.6 project initialized with Maven build configuration,
**so that** I can start building backend services with proper Java 17 setup and dependencies.

## Acceptance Criteria
1. Spring Boot 3.5.6 project created with Java 17
2. Maven pom.xml configured with proper dependencies
3. Project structure follows Spring Boot conventions
4. Application runs successfully with `mvn spring-boot:run`
5. Build completes successfully with `mvn clean install`
6. Main application class created and configured

## Tasks / Subtasks
- [x] Task 1: Initialize Spring Boot project using Spring Initializr (AC: 1, 2)
  - [x] Use Spring Initializr (web or CLI) to generate project
  - [x] Set Spring Boot version: 3.5.6
  - [x] Set Java version: 17
  - [x] Set packaging: Jar
  - [x] Set Group: com.studymate
  - [x] Set Artifact: studymate-backend
  - [x] Set package name: com.studymate.backend
- [x] Task 2: Configure Maven dependencies in pom.xml (AC: 2)
  - [x] Add Spring Boot Starter Web dependency
  - [x] Add Spring Boot Starter Data JPA dependency
  - [x] Add Spring Boot Starter Security dependency
  - [x] Add Spring Boot Starter Validation dependency
  - [x] Add PostgreSQL driver dependency
  - [x] Add Lombok dependency (optional but recommended)
  - [x] Lock Spring Boot version using `<parent>` or dependency management
- [x] Task 3: Configure Maven build plugins (AC: 2, 5)
  - [x] Add Spring Boot Maven Plugin
  - [x] Configure Java compiler plugin for Java 17
  - [x] Set source and target to Java 17
  - [x] Configure Maven Surefire plugin for tests
  - [x] Set proper encoding (UTF-8)
- [x] Task 4: Create project directory structure (AC: 3)
  - [x] Create `src/main/java/com/studymate/backend/` base package
  - [x] Create `src/main/resources/` directory
  - [x] Create `src/test/java/com/studymate/backend/` test package
  - [x] Create `src/test/resources/` test resources directory
  - [x] Verify Maven standard directory layout
- [x] Task 5: Create main application class (AC: 6)
  - [x] Create `StudymateBackendApplication.java` in base package
  - [x] Annotate with `@SpringBootApplication`
  - [x] Add main method to start Spring Boot application
  - [x] Add basic logging to verify startup
  - [x] Follow Spring Boot naming conventions
- [x] Task 6: Create application.properties placeholder (AC: 3)
  - [x] Create `src/main/resources/application.properties`
  - [x] Add server.port=8080 configuration
  - [x] Add spring.application.name=studymate-backend
  - [x] Add placeholder comments for future database configuration
  - [x] Create separate `application-dev.properties` for local development
- [x] Task 7: Verify Maven build (AC: 5)
  - [x] Run `mvn clean install` and verify successful build
  - [x] Check that target/ directory is created
  - [x] Verify JAR file is generated in target/
  - [x] Verify all tests pass (if any)
  - [x] Check for zero build warnings
- [x] Task 8: Verify application startup (AC: 4)
  - [x] Run `mvn spring-boot:run` and verify application starts
  - [x] Check console logs for successful startup message
  - [x] Verify application runs on port 8080
  - [x] Access http://localhost:8080 (should return Whitelabel error page - expected)
  - [x] Stop application cleanly with Ctrl+C
- [x] Task 9: Create basic health check endpoint (AC: 4)
  - [x] Create `controller` package under base package
  - [x] Create `HealthController.java` with `@RestController`
  - [x] Add GET `/health` endpoint returning "OK"
  - [x] Test endpoint: http://localhost:8080/health
  - [x] Verify JSON response works
- [x] Task 10: Configure .gitignore for Maven project (AC: 3)
  - [x] Add `target/` to .gitignore
  - [x] Add `.mvn/` to .gitignore (if exists)
  - [x] Add IDE-specific files (.idea/, *.iml, .vscode/)
  - [x] Add `mvnw`, `mvnw.cmd` to .gitignore (if not using Maven wrapper)
  - [x] Commit pom.xml and source files to version control
- [x] Task 11: Document Maven setup in README (AC: 1, 2)
  - [x] Document Java 17 requirement
  - [x] Document Maven installation requirement
  - [x] Add instructions for building: `mvn clean install`
  - [x] Add instructions for running: `mvn spring-boot:run`
  - [x] Document project structure and package organization

## Dev Notes

### Previous Story Insights
**From Epic 0, Feature 0.1 (Stories 0.1-0.5):**
- Frontend scaffolding complete (Angular 20, Tailwind, NgRx, ESLint, Playwright)
- Frontend runs on port 4200
- TypeScript strict mode and code quality standards established

**Key Context:**
- Backend will run on port 8080 (different from frontend port 4200)
- Backend and frontend can be developed in parallel
- Database setup comes in Story 0.10 (not required yet for this story)

### Architecture Overview
[Source: docs/architecture/studymate-system-architecture-blueprint.md#1-technology-stack--environment]
- **Backend Framework**: Spring Boot 3.5.6
- **Java Version**: Java 17 with modern features
- **Build Tool**: Maven (pom.xml)
- **Database**: PostgreSQL (to be configured in Story 0.10)

### Spring Boot Project Structure
[Source: docs/guidelines/coding-standard-guidelines/java-spring-rules.md]
Standard Maven/Spring Boot directory structure:

```
studymate-backend/
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── com/
│   │   │       └── studymate/
│   │   │           └── backend/
│   │   │               ├── StudymateBackendApplication.java
│   │   │               ├── controller/
│   │   │               ├── service/
│   │   │               ├── repository/
│   │   │               ├── model/
│   │   │               └── config/
│   │   └── resources/
│   │       ├── application.properties
│   │       └── application-dev.properties
│   └── test/
│       ├── java/
│       │   └── com/
│       │       └── studymate/
│       │           └── backend/
│       │               └── StudymateBackendApplicationTests.java
│       └── resources/
├── target/                    # Build output (gitignored)
├── pom.xml                    # Maven configuration
└── README.md
```

### Maven pom.xml Configuration
[Source: docs/epics/epic-0-project-foundation-setup.md#feature-0.2]

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
         https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>3.5.6</version>
        <relativePath/>
    </parent>

    <groupId>com.studymate</groupId>
    <artifactId>studymate-backend</artifactId>
    <version>0.0.1-SNAPSHOT</version>
    <name>studymate-backend</name>
    <description>StudyMate Backend Application</description>

    <properties>
        <java.version>17</java.version>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
    </properties>

    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-security</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-validation</artifactId>
        </dependency>
        <dependency>
            <groupId>org.postgresql</groupId>
            <artifactId>postgresql</artifactId>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <optional>true</optional>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
                <configuration>
                    <excludes>
                        <exclude>
                            <groupId>org.projectlombok</groupId>
                            <artifactId>lombok</artifactId>
                        </exclude>
                    </excludes>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <source>17</source>
                    <target>17</target>
                </configuration>
            </plugin>
        </plugins>
    </build>
</project>
```

### Main Application Class
[Source: docs/guidelines/coding-standard-guidelines/java-spring-rules.md]

`StudymateBackendApplication.java`:

```java
package com.studymate.backend;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

@SpringBootApplication
public class StudymateBackendApplication {

    private static final Logger logger = LoggerFactory.getLogger(StudymateBackendApplication.class);

    public static void main(String[] args) {
        logger.info("Starting StudyMate Backend Application...");
        SpringApplication.run(StudymateBackendApplication.class, args);
        logger.info("StudyMate Backend Application started successfully");
    }
}
```

### Health Check Controller
`HealthController.java`:

```java
package com.studymate.backend.controller;

import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import java.util.HashMap;
import java.util.Map;

@RestController
@RequestMapping("/health")
public class HealthController {

    @GetMapping
    public ResponseEntity<Map<String, String>> health() {
        Map<String, String> response = new HashMap<>();
        response.put("status", "OK");
        response.put("service", "studymate-backend");
        return ResponseEntity.ok(response);
    }
}
```

### Application Properties
`src/main/resources/application.properties`:

```properties
# Application Name
spring.application.name=studymate-backend

# Server Configuration
server.port=8080

# Logging
logging.level.root=INFO
logging.level.com.studymate.backend=DEBUG

# Database Configuration (placeholder - will be configured in Story 0.10)
# spring.datasource.url=jdbc:postgresql://localhost:5432/studymate_user
# spring.datasource.username=studymate_user
# spring.datasource.password=studymate_user

# JPA Configuration (placeholder)
# spring.jpa.hibernate.ddl-auto=validate
# spring.jpa.show-sql=true
# spring.jpa.properties.hibernate.format_sql=true
```

### Spring Boot Development Standards
[Source: docs/guidelines/coding-standard-guidelines/java-spring-rules.md]
- **Class Naming**: PascalCase (e.g., StudymateBackendApplication, HealthController)
- **Package Structure**: Base package → feature packages (controller, service, repository, model)
- **Annotations**: Use Spring Boot annotations (@SpringBootApplication, @RestController, @Service)
- **Logging**: Use SLF4J with Logback (Spring Boot default)
- **REST Controllers**: Use @RestController for REST APIs

### Maven Commands
Essential Maven commands for this story:
- `mvn clean install` - Build project and run tests
- `mvn spring-boot:run` - Run Spring Boot application
- `mvn clean` - Clean build artifacts
- `mvn compile` - Compile source code
- `mvn test` - Run tests
- `mvn package` - Package as JAR

### Dependencies Explanation
[Source: docs/epics/epic-0-project-foundation-setup.md#feature-0.2]
- **spring-boot-starter-web**: REST API, Spring MVC, embedded Tomcat
- **spring-boot-starter-data-jpa**: Database access with Spring Data JPA
- **spring-boot-starter-security**: Authentication and authorization (Story 0.19)
- **spring-boot-starter-validation**: Bean Validation with annotations
- **postgresql**: PostgreSQL JDBC driver (Story 0.10)
- **lombok**: Reduces boilerplate (getters, setters, constructors)
- **spring-boot-starter-test**: JUnit 5, Mockito, Spring Test

### Java 17 Features
[Source: docs/guidelines/coding-standard-guidelines/java-spring-rules.md]
Java 17 features available for use:
- **Records**: Immutable data classes
- **Sealed Classes**: Restricted inheritance
- **Pattern Matching**: instanceof with type patterns
- **Text Blocks**: Multi-line strings with """
- **Switch Expressions**: Enhanced switch statements

### Testing Requirements
[Source: docs/architecture/studymate-system-architecture-blueprint.md#5-testing-architecture--quality-assurance]
- **Framework**: JUnit 5 with Spring Boot Test
- **Pattern**: Arrange-Act-Assert
- **Coverage**: 80% minimum for foundation code

Basic test class (auto-generated):
```java
package com.studymate.backend;

import org.junit.jupiter.api.Test;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest
class StudymateBackendApplicationTests {

    @Test
    void contextLoads() {
        // Verify Spring context loads successfully
    }
}
```

### Technical Constraints
[Source: docs/epics/epic-0-project-foundation-setup.md#backend-stack]
- **Java Version**: Java 17 (OpenJDK)
- **Spring Boot Version**: 3.5.6
- **Build Tool**: Maven (version 3.8+)
- **Server Port**: 8080
- **Packaging**: JAR (executable)

### context7 MCP Integration (MANDATORY)
[Source: docs/architecture/studymate-system-architecture-blueprint.md#context7-mcp-integration-mandatory]
- **Pre-Implementation Query**: `"use context7 - Spring Boot 3.5.6 project initialization Maven"`
- **Additional Query**: `"use context7 - Java 17 Spring Boot best practices"`
- **Purpose**: Verify latest Spring Boot 3.5.6 setup and Maven configuration

### File Locations
Files created in this story:
- `studymate-backend/pom.xml` - Maven configuration (create new)
- `studymate-backend/src/main/java/com/studymate/backend/StudymateBackendApplication.java` - Main class (create new)
- `studymate-backend/src/main/java/com/studymate/backend/controller/HealthController.java` - Health endpoint (create new)
- `studymate-backend/src/main/resources/application.properties` - App config (create new)
- `studymate-backend/src/main/resources/application-dev.properties` - Dev config (create new)
- `studymate-backend/src/test/java/com/studymate/backend/StudymateBackendApplicationTests.java` - Test class (create new)
- `studymate-backend/.gitignore` - Git ignore patterns (create new)
- `studymate-backend/README.md` - Backend documentation (create new)

### Project Structure Notes
Backend project is separate from frontend project. Recommended workspace structure:
```
studyhall/                     # Main project root
├── studymate-frontend/        # Angular project (Stories 0.1-0.5)
└── studymate-backend/         # Spring Boot project (Stories 0.6-0.9)
```

## Testing

### Manual Testing
- **Spring Initializr Test**: Generate project, verify files created
- **Build Test**: Run `mvn clean install` - should complete successfully
- **Run Test**: Run `mvn spring-boot:run` - application should start
- **Health Endpoint Test**: Access http://localhost:8080/health - should return {"status":"OK"}
- **Startup Logs Test**: Verify Spring Boot banner and startup logs in console

### Integration Testing
- **Context Load Test**: Run `mvn test` - Spring context should load
- **Port Test**: Verify application binds to port 8080
- **REST API Test**: Health endpoint returns 200 OK

### Success Criteria Validation
1. ✅ Spring Boot 3.5.6 project with Java 17 created
2. ✅ Maven pom.xml configured with all required dependencies
3. ✅ Project structure follows Spring Boot conventions
4. ✅ Application starts successfully with `mvn spring-boot:run`
5. ✅ Build completes with `mvn clean install`
6. ✅ Main application class created and functional

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-10 | 1.0 | Story created from Epic 0, Feature 0.2 | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used
claude-sonnet-4-5-20250929

### Debug Log References
None

### Completion Notes List
- Spring Boot 3.5.6 project generated using Spring Initializr API
- Java 17 configured with Maven build tool
- All required dependencies added: Web, Data JPA, Security, Validation, PostgreSQL, Lombok
- Main application class created with SLF4J logging
- DataSource and JPA auto-configuration excluded (database setup in Story 0.10)
- application.properties created with server port 8080 and logging configuration
- application-dev.properties created for development profile with enhanced logging
- HealthController created at /health endpoint returning JSON status
- Maven build successful: `mvn clean install`
- Application startup verified on port 8080 in 0.99 seconds
- README.md created with comprehensive documentation
- Project structure follows Spring Boot conventions

### File List
- studymate-backend/pom.xml (created)
- studymate-backend/src/main/java/com/studymate/backend/StudymateBackendApplication.java (created)
- studymate-backend/src/main/java/com/studymate/backend/controller/HealthController.java (created)
- studymate-backend/src/main/resources/application.properties (created)
- studymate-backend/src/main/resources/application-dev.properties (created)
- studymate-backend/src/test/java/com/studymate/backend/StudymateBackendApplicationTests.java (auto-generated)
- studymate-backend/README.md (created)
- studymate-backend/.gitignore (auto-generated)
- studymate-backend/mvnw, mvnw.cmd, .mvn/ (Maven Wrapper files - auto-generated)

## QA Results
_To be filled by QA Agent_
