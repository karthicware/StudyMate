<div class="seat-properties-panel bg-white rounded-lg shadow-lg p-6 w-80">
  <h3 class="text-xl font-semibold mb-4 text-gray-800">Seat Properties</h3>

  <!-- Error Message -->
  @if (errorMessage()) {
    <div class="mb-4 p-3 bg-red-50 border border-red-200 rounded-md">
      <p class="text-sm text-red-600">{{ errorMessage() }}</p>
    </div>
  }

  <form [formGroup]="propertiesForm" (ngSubmit)="onSave()">
    <!-- Seat Number (Read-only) -->
    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Seat Number
      </label>
      <input
        type="text"
        formControlName="seatNumber"
        class="w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 cursor-not-allowed"
        readonly
      />
      <p class="mt-1 text-xs text-gray-500">Seat number cannot be changed</p>
    </div>

    <!-- Space Type Dropdown -->
    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Space Type <span class="text-red-500">*</span>
      </label>
      <select
        formControlName="spaceType"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
      >
        @for (type of spaceTypes; track type) {
          <option [value]="type">{{ type }}</option>
        }
      </select>
      <p class="mt-1 text-xs text-gray-500">Select the type of seating space</p>
    </div>

    <!-- Custom Price (Optional) -->
    <div class="mb-6">
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Custom Price (₹)
      </label>
      <input
        type="number"
        formControlName="customPrice"
        placeholder="Leave empty for default hall price"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        [class.border-red-500]="propertiesForm.get('customPrice')?.invalid && propertiesForm.get('customPrice')?.touched"
      />
      @if (customPriceError && propertiesForm.get('customPrice')?.touched) {
        <p class="mt-1 text-xs text-red-600">{{ customPriceError }}</p>
      } @else {
        <p class="mt-1 text-xs text-gray-500">Range: ₹50 - ₹1000. Optional.</p>
      }
    </div>

    <!-- Action Buttons -->
    <div class="flex gap-3">
      <button
        type="submit"
        [disabled]="propertiesForm.invalid"
        class="flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors"
      >
        Save
      </button>
      <button
        type="button"
        (click)="onCancel()"
        class="flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 transition-colors"
      >
        Cancel
      </button>
    </div>
  </form>
</div>
